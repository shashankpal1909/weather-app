[{"C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\reportWebVitals.js":"1","C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\index.js":"2","C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\data.js":"3","C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\canvasjs-3.2.6\\canvasjs.min.js":"4","C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\canvasjs-3.2.6\\canvasjs.react.js":"5","C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\components\\8DayForecast.js":"6","C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\components\\HourlyChart.js":"7","C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\components\\WeatherHomePage.js":"8","C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\components\\CurrentForecast.js":"9"},{"size":362,"mtime":1607772595697,"results":"10","hashOfConfig":"11"},{"size":593,"mtime":1610033652306,"results":"12","hashOfConfig":"11"},{"size":24510,"mtime":1610029892894,"results":"13","hashOfConfig":"11"},{"size":479270,"mtime":1610028751220,"results":"14","hashOfConfig":"11"},{"size":2080,"mtime":1610028751393,"results":"15","hashOfConfig":"11"},{"size":5668,"mtime":1610033476143,"results":"16","hashOfConfig":"11"},{"size":3509,"mtime":1610033936818,"results":"17","hashOfConfig":"11"},{"size":6433,"mtime":1610033354828,"results":"18","hashOfConfig":"11"},{"size":4122,"mtime":1610033473216,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"qoa800",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},"C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\reportWebVitals.js",[],["42","43"],"C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\index.js",[],["44","45"],"C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\data.js",[],"C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\canvasjs-3.2.6\\canvasjs.min.js",[],"C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\canvasjs-3.2.6\\canvasjs.react.js",["46"],"﻿/*\r\nCanvasJS React Charts - https://canvasjs.com/\r\nCopyright 2020 fenopix\r\n\r\n--------------------- License Information --------------------\r\nCanvasJS is a commercial product which requires purchase of license. Without a commercial license you can use it for evaluation purposes for upto 30 days. Please refer to the following link for further details.\r\nhttps://canvasjs.com/license/\r\n\r\n*/\r\nvar React = require('react');\r\nvar CanvasJS = require('./canvasjs.min');\r\nCanvasJS = CanvasJS.Chart ? CanvasJS : window.CanvasJS;\r\n\r\nclass CanvasJSChart extends React.Component {\r\n\tstatic _cjsContainerId = 0\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.options = props.options ? props.options : {};\r\n\t\tthis.containerProps = props.containerProps ? props.containerProps : { width: \"100%\", position: \"relative\" };\r\n\t\tthis.containerProps.height = props.containerProps && props.containerProps.height ? props.containerProps.height : this.options.height ? this.options.height + \"px\" : \"400px\";\r\n\t\tthis.chartContainerId = \"canvasjs-react-chart-container-\" + CanvasJSChart._cjsContainerId++;\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\t//Create Chart and Render\t\t\r\n\t\tthis.chart = new CanvasJS.Chart(this.chartContainerId, this.options);\r\n\t\tthis.chart.render();\r\n\r\n\t\tif (this.props.onRef)\r\n\t\t\tthis.props.onRef(this.chart);\r\n\t}\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\t//Check if Chart-options has changed and determine if component has to be updated\r\n\t\treturn !(nextProps.options === this.options);\r\n\t}\r\n\tcomponentDidUpdate() {\r\n\t\t//Update Chart Options & Render\r\n\t\tthis.chart.options = this.props.options;\r\n\t\tthis.chart.render();\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\t//Destroy chart and remove reference\r\n\t\tthis.chart.destroy();\r\n\t\tif (this.props.onRef)\r\n\t\t\tthis.props.onRef(undefined);\r\n\t}\r\n\trender() {\r\n\t\t//return React.createElement('div', { id: this.chartContainerId, style: this.containerProps });\t\t\r\n\t\treturn <div id={this.chartContainerId} style={this.containerProps} />\r\n\t}\r\n}\r\n\r\nvar CanvasJSReact = {\r\n\tCanvasJSChart: CanvasJSChart,\r\n\tCanvasJS: CanvasJS\r\n};\r\n\r\nexport default CanvasJSReact;","C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\components\\8DayForecast.js",[],"C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\components\\HourlyChart.js",[],"C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\components\\WeatherHomePage.js",["47"],"import React, { useEffect, useState } from \"react\";\r\nimport App from \"./8DayForecast\";\r\nimport CurrentForecast from \"./CurrentForecast\";\r\nimport HourlyChart from \"./HourlyChart\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Col,\r\n  Row,\r\n  Form,\r\n  InputGroup,\r\n  FormControl,\r\n  Button,\r\n  Navbar,\r\n  OverlayTrigger,\r\n  Tooltip,\r\n} from \"react-bootstrap\";\r\n\r\nimport axios from \"axios\";\r\nimport { locationData } from \"../data\";\r\n\r\nlet count = 0;\r\nconst WEATHER_API = \"439d4b804bc8187953eb36d2a8c26a02\";\r\nconst LOC_API =\r\n  \"pk.eyJ1Ijoic2hhc2hhbmtwYWwxOTA5IiwiYSI6ImNrY2xpbzFkYjI0YmozM284bWpscWE2dGkifQ.73L8TnT83Y5yAnBHfsaC0w\";\r\n\r\nfunction WeatherHomePage(props) {\r\n  const [data, setData] = useState([]);\r\n  const [locData, setLocData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [unit, setUnit] = useState({\r\n    name: \"metric\",\r\n    temp: \"°C\",\r\n    speed: \"m/s\",\r\n  });\r\n\r\n  async function getWeatherData(lat = 28.755, lon = 77.199, units = \"metric\") {\r\n    console.log(\"API Called\");\r\n    try {\r\n      const res = await axios.get(\r\n        `https://openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&units=${units}&appid=${\r\n          process.env.WEATHER_API || WEATHER_API\r\n        }`\r\n      );\r\n      localStorage.setItem(\r\n        \"coords\",\r\n        JSON.stringify({ lat: res.data.lat, lon: res.data.lon })\r\n      );\r\n      return res.data;\r\n    } catch (err) {\r\n      return console.log(err);\r\n    }\r\n  }\r\n\r\n  async function getLocation(city) {\r\n    try {\r\n      const res = await axios.get(\r\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(\r\n          city\r\n        )}.json?access_token=${process.env.LOC_API || LOC_API}&limit=1`\r\n      );\r\n      localStorage.setItem(\"locName\", res.data.query[0]);\r\n      return res.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    console.log(count);\r\n    if (count !== 0) {\r\n      return 0;\r\n    }\r\n    count++;\r\n\r\n    const locName = localStorage.getItem(\"locName\");\r\n    if (locName !== null) {\r\n      getLocation(locName).then((res) => setLocData(res));\r\n    } else {\r\n      setLocData(locationData);\r\n    }\r\n\r\n    const coords = localStorage.getItem(\"coords\");\r\n    let lat = undefined,\r\n      lon = undefined;\r\n    if (coords !== null) {\r\n      lat = JSON.parse(coords).lat;\r\n      lon = JSON.parse(coords).lon;\r\n    }\r\n\r\n    getWeatherData(lat, lon, unit.name).then((res) => {\r\n      console.log(res);\r\n      setData(res);\r\n      setLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  const updateWeather = (unit) => {\r\n    setLoading(true);\r\n    getWeatherData(\r\n      locData.features[0].center[1],\r\n      locData.features[0].center[0],\r\n      unit\r\n    ).then((res) => {\r\n      console.log(res);\r\n      setData(res);\r\n      setUnit(\r\n        unit === \"metric\"\r\n          ? {\r\n              name: \"metric\",\r\n              temp: \"°C\",\r\n              speed: \"m/s\",\r\n            }\r\n          : {\r\n              name: \"imperial\",\r\n              temp: \"°F\",\r\n              speed: \"mph\",\r\n            }\r\n      );\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const searchWeather = () => {\r\n    const city = document.getElementsByClassName(\"city-input\")[0].value;\r\n    if (city === \"\") return 0;\r\n    console.log(city);\r\n    document.getElementsByClassName(\"city-input\")[0].value = \"\";\r\n    setLoading(true);\r\n    getLocation(city)\r\n      .then((res) => {\r\n        setLocData(res);\r\n        return res;\r\n      })\r\n      .then((res) => {\r\n        console.log(res);\r\n        getWeatherData(\r\n          res.features[0].center[1],\r\n          res.features[0].center[0],\r\n          unit.name\r\n        ).then((res) => {\r\n          setData(res);\r\n          setLoading(false);\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginTop: \"100px\" }}>\r\n      <Navbar\r\n        bg=\"dark\"\r\n        variant=\"dark\"\r\n        style={{ justifyContent: \"space-between\" }}\r\n        fixed=\"top\"\r\n      >\r\n        <Navbar.Brand\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            cursor: \"pointer\",\r\n            userSelect: \"none\",\r\n          }}\r\n        >\r\n          <img\r\n            alt=\"\"\r\n            src=\"icons/logo.svg\"\r\n            width=\"64\"\r\n            height=\"64\"\r\n            className=\"d-inline-block align-top\"\r\n          />{\" \"}\r\n          <h1 style={{ margin: \"0 10px\", fontWeight: \"bold\" }}>Weather</h1>\r\n        </Navbar.Brand>\r\n        <OverlayTrigger\r\n          placement=\"bottom\"\r\n          overlay={<Tooltip id={`tooltip-bottom`}>Refresh Weather</Tooltip>}\r\n        >\r\n          <Button href=\"/\" variant=\"link\">\r\n            <img\r\n              alt=\"\"\r\n              src=\"icons/refresh.svg\"\r\n              width=\"40\"\r\n              height=\"40\"\r\n              className=\"d-inline-block align-top\"\r\n            />\r\n          </Button>\r\n        </OverlayTrigger>\r\n      </Navbar>\r\n      <Container>\r\n        <Row style={{ marginTop: \"10px\" }}>\r\n          <Form\r\n            onSubmit={(e) => e.preventDefault()}\r\n            style={{ width: \"100%\", margin: \"10px 10px 0 10px\" }}\r\n          >\r\n            <InputGroup className=\"mb-3\">\r\n              <FormControl\r\n                placeholder=\"Search City\"\r\n                aria-label=\"search\"\r\n                aria-describedby=\"basic-addon2\"\r\n                className=\"city-input\"\r\n              />\r\n              <InputGroup.Append>\r\n                <Button\r\n                  variant=\"outline-secondary\"\r\n                  type=\"submit\"\r\n                  onClick={searchWeather}\r\n                >\r\n                  Search\r\n                </Button>\r\n              </InputGroup.Append>\r\n            </InputGroup>\r\n          </Form>\r\n        </Row>\r\n        {loading ? (\r\n          <Row style={{ justifyContent: \"center\" }}>\r\n            <img src=\"icons/load.svg\" alt=\"loading\" />\r\n          </Row>\r\n        ) : (\r\n          <Row>\r\n            <Col style={{ padding: 0 }}>\r\n              <CurrentForecast\r\n                data={data}\r\n                loc={locData}\r\n                unit={unit}\r\n                updateWeather={(unit) => updateWeather(unit)}\r\n              />\r\n              <HourlyChart data={data} unit={unit} />\r\n            </Col>\r\n            <Col style={{ padding: 0 }}>\r\n              <App data={data} unit={unit} />\r\n            </Col>\r\n          </Row>\r\n        )}\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WeatherHomePage;\r\n","C:\\Users\\Shashank\\Desktop\\My Files\\weather-app\\src\\components\\CurrentForecast.js",[],{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"48","replacedBy":"52"},{"ruleId":"50","replacedBy":"53"},{"ruleId":"54","severity":1,"message":"55","line":1,"column":1,"nodeType":"56","messageId":"57","fix":"58"},{"ruleId":"59","severity":1,"message":"60","line":96,"column":6,"nodeType":"61","endLine":96,"endColumn":8,"suggestions":"62"},"no-native-reassign",["63"],"no-negated-in-lhs",["64"],["63"],["64"],"unicode-bom","Unexpected Unicode BOM (Byte Order Mark).","Program","unexpected",{"range":"65","text":"66"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'unit.name'. Either include it or remove the dependency array.","ArrayExpression",["67"],"no-global-assign","no-unsafe-negation",[-1,0],"",{"desc":"68","fix":"69"},"Update the dependencies array to be: [unit.name]",{"range":"70","text":"71"},[2535,2537],"[unit.name]"]